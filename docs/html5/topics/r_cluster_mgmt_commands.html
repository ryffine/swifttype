<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta class="swiftype" charset="UTF-8"><meta class="swiftype" name="copyright" content="(C) Copyright 2018"><meta class="swiftype" name="DC.rights.owner" content="(C) Copyright 2018"><meta class="swiftype" name="DC.Type" content="reference"><meta class="swiftype" name="description" content="Lists the basic commands used for managing clusters. The basic commands are: showcluster, badmin showstatus, badmin restart -p, hostload, hostacct, listhosts, hostlimits, and statclusters."><meta class="swiftype" name="DC.subject" content="showcluster, commands, badmin showstatus, badmin restart -p, hostload, hostacct, listhosts, hostlimits, hostslimits, statclusters"><meta class="swiftype" name="keywords" content="showcluster, commands, badmin showstatus, badmin restart -p, hostload, hostacct, listhosts, hostlimits, hostslimits, statclusters"><meta class="swiftype" name="DC.Relation" scheme="URI" content="../topics/c_cluster_management.html"><meta class="swiftype" name="DC.Relation" scheme="URI" content="../topics/r_manage_clusters.html"><meta class="swiftype" name="DC.Audience.Experiencelevel" content="expert"><meta class="swiftype" name="DC.Audience.Job" content="cluster_admin"><meta class="swiftype" name="DC.Audience.Type" content="admin"><meta class="swiftype" name="DC.Format" content="XHTML"><meta class="swiftype" name="DC.Identifier" content="v3485903"><link rel="stylesheet" type="text/css" href="../commonltr.css"><title>Cluster management basic commands</title></head><body id="v3485903"><main role="main"><article role="article" aria-labelledby="ariaid-title1">
  <h1 class="title topictitle1" id="ariaid-title1">Cluster management basic commands</h1>
  
  
  <div class="body refbody"><p class="shortdesc">Lists the basic commands used for managing clusters. The basic commands are:
      <span class="keyword cmdname">showcluster</span>, <span class="keyword cmdname">badmin showstatus</span>, <span class="keyword cmdname">badmin restart
      -p</span>, <span class="keyword cmdname">hostload</span>, <span class="keyword cmdname">hostacct</span>,
      <span class="keyword cmdname">listhosts</span>, <span class="keyword cmdname">hostlimits</span>, and
      <span class="keyword cmdname">statclusters</span>.</p>
    <section class="section"><h2 class="title sectiontitle">showcluster command</h2><p class="p">Displays execution cluster resource provider and consumer information, resource flow
      information, and connection status between the submission cluster and execution
      cluster.</p>
      <p class="p"><code class="ph codeph">% <kbd class="ph userinput">showcluster report</kbd></code></p><p class="p">Use <span class="keyword cmdname">-app</span> to view available application profiles in remote clusters.</p>
      <p class="p">Information related to <dfn class="term">StormCluster</dfn>
        is displayed under the heading <span class="keyword">Job Forwarding Information</span>. </p>
      <div class="p">
        <dl class="dl parml">
          
            <dt class="dt pt dlterm">local_queue</dt>
            <dd class="dd pd">
              <p class="p">Name of a <dfn class="term">StormCluster</dfn>
                queue.</p>
            </dd>
          
          
            <dt class="dt pt dlterm">job_flow</dt>
            <dd class="dd pd">
              <p class="p">Indicates direction of job flow.</p>
              <ul class="ul" id="v3485903__ul_nqx_tir_yd">
                <li class="li">
                  <p class="p">send: The local queue is a submission cluster send-jobs queue (SNDJOBS_TO is
                    defined in the local queue). </p>
                </li>
                <li class="li">
                  <p class="p">recv: The local queue is an execution cluster receive-jobs queue (RCVJOBS_FROM
                    is defined in the local queue).</p>
                </li>
              </ul>
            </dd>
          
          
            <dt class="dt pt dlterm">remote</dt>
            <dd class="dd pd">
              <p class="p">Shows the name of the remote queue, always the same as the local queue name.</p>
              <p class="p">For receive-jobs queues, always “-”. </p>
            </dd>
          
          
            <dt class="dt pt dlterm">cluster</dt>
            <dd class="dd pd">
              <p class="p">For send-jobs queues, shows the name of the execution cluster containing the
                receive-jobs queue.</p>
              <p class="p">For receive-jobs queues, shows the name of the submission cluster that can send
                jobs to the local queue.</p>
            </dd>
          
          
            <dt class="dt pt dlterm">status</dt>
            <dd class="dd pd">
              <p class="p">Indicates the connection status between the local queue and remote queue.</p>
              <div class="p">
                <ul class="ul" id="v3485903__ul_mks_ahr_yd">
                  <li class="li">
                    <p class="p">ok: The submission cluster and execution cluster can exchange information and
                      the system is properly configured.</p>
                  </li>
                  <li class="li">
                    <p class="p">disc: Communication between the two clusters has not been established. This
                      could occur because there are no jobs waiting to be dispatched, or because the
                      remote master cannot be located. </p>
                  </li>
                  <li class="li">
                    <p class="p">reject: The remote queue rejects jobs from the send-jobs queue. The local
                      queue and remote queue are connected and the clusters communicate, but the
                      queue-level configuration is not correct. </p>
                  </li>
                </ul>
              </div>
            </dd>
          
        </dl>
      </div></section>
    <section class="section"><h2 class="title sectiontitle">badmin showstatus command</h2>
      
      <p class="p">Displays current cluster information. The last two lines only appear during a parallel
        <span class="keyword cmdname">daemon</span> restart initiated with the <span class="keyword cmdname">badmin restart -p</span>
        command.</p>
      <p class="p"><code class="ph codeph">% <kbd class="ph userinput">badmin showstatus</kbd></code></p>
    </section>
    <section class="section"><h2 class="title sectiontitle">badmin restart -p command</h2><p class="p">Command to start daemon in parallel.</p>
      <p class="p"><code class="ph codeph">% <kbd class="ph userinput">badmin restart -p</kbd></code></p>
      <p class="p">Starts <span class="keyword cmdname">batchd</span> in parallel, leaving the existing
      <span class="keyword cmdname">batchd</span> free to respond to queries and run commands while the new
      <span class="keyword cmdname">batchd</span> restarts, reading configuration files and replaying events. Once
      all events have been read <span class="keyword cmdname">batchd</span> daemons merge, replaying new events and
      leaving only the new <span class="keyword cmdname">batchd</span> running.</p>
      <p class="p">During a parallel <span class="keyword cmdname">batchd</span> restart, new <span class="keyword cmdname">badmin restart</span>
        and <span class="keyword cmdname">badmin reconfig</span> commands are not accepted. Parallel
        <span class="keyword cmdname">batchd</span> restart using <span class="keyword cmdname">badmin mbdrestart -p</span> does not
        work with duplicate event logging (<span class="keyword parmname">LSB_LOCALDIR</span> in
        <span class="ph filepath">host.conf</span>).</p>
      <p class="p">The existing command <span class="keyword cmdname">badmin restart</span> remains unchanged.</p></section>
    <section class="section"><h2 class="title sectiontitle">hostload command</h2>
      
      <p class="p">This command runs locally (in the execution cluster) when submitted by a running job.</p>
      <p class="p"><code class="ph codeph">% <kbd class="ph userinput">hostload</kbd></code></p>
      <div class="p">
        <dl class="dl parml">
          
            <dt class="dt pt dlterm">-cname</dt>
            <dd class="dd pd">
              <p class="p">The option <span class="keyword cmdname">-cname</span> includes the cluster name for execution
                cluster hosts and host groups in output for <span class="keyword cmdname">hostload</span>.</p>
              <p class="p">%<kbd class="ph userinput"> hostload -cname</kbd>
              </p>
            </dd>
          
        </dl>
      </div>
    </section>
    <section class="section"><h2 class="title sectiontitle">hostacct command</h2><p class="p">Displays accounting statistics for finished jobs within all clusters connected by <dfn class="term">StormCluster</dfn>.</p>
      <p class="p"><code class="ph codeph">% <kbd class="ph userinput">hostacct</kbd></code></p>
      <p class="p">This command runs locally (in the execution cluster) when submitted by a running job.</p>
      <div class="p">Accounting statistics include:<ul class="ul" id="v3485903__ul_xxh_whr_yd">
        <li class="li">
          <p class="p">Date and time of submission.</p>
        </li>
        <li class="li">
          <p class="p">Date and time of execution.</p>
        </li>
        <li class="li">
          <p class="p">Time the job took to run.</p>
        </li>
        <li class="li">
          <p class="p">Host the job ran on.</p>
        </li>
        <li class="li">
          <p class="p">Any suspensions or resumptions of the job.</p>
        </li>
        <li class="li">
          <p class="p">The submission user account name.</p>
        </li>
      </ul></div></section>
    <section class="section"><h2 class="title sectiontitle">listhost command</h2>
      
      <p class="p">This command runs locally (in the execution cluster) when submitted by a running job.</p>
      <p class="p">% <kbd class="ph userinput">listhosts</kbd></p>
      <div class="p">
        <dl class="dl parml">
          
            <dt class="dt pt dlterm">-cname</dt>
            <dd class="dd pd">
              <p class="p">The option <span class="keyword cmdname">-cname</span> includes the cluster name for execution
                cluster hosts and host groups in output for <span class="keyword cmdname">listhosts</span>.</p>
            </dd>
          
        </dl>
      </div>
    </section>
    <section class="section" id="v3485903__section_xgm_jyt_qr"><h2 class="title sectiontitle">hostlimits command</h2>
      
      <p class="p">Displays cluster limit data across all clusters, including forward limits and aggregated
        execution cluster limits.</p>
      <p class="p"> All clusters are shown by default.</p>
      <p class="p" id="v3485903__p_cnz_nyt_qr">To specify a remote limit with the <span class="keyword cmdname">-n</span> option, include
        the cluster name as well as the limit name: <kbd class="ph userinput">hostlimits -n
            <var class="keyword varname">limit_name</var>@<var class="keyword varname">cluster_name</var></kbd>.</p>
      <div class="p" id="v3485903__p_jbn_4yt_qr">
        <dl class="dl parml">
          
            <dt class="dt pt dlterm">-fwd</dt>
            <dd class="dd pd">
              <p class="p">Displays forward slot allocation limits.</p>
              <p class="p">Use <span class="keyword cmdname">-fwd</span> with <span class="keyword cmdname">-c</span> to display forward slot
                limit configuration.</p>
            </dd>
          
          
            <dt class="dt pt dlterm">-fwd -C <var class="keyword varname">cluster_name</var>...</dt>
            <dd class="dd pd">
              <p class="p">Displays forward slot allocation limits for one or more specific clusters.
                  <span class="keyword cmdname">-C</span> cannot be used without <span class="keyword cmdname">-fwd</span>.</p>
              <p class="p">Use <span class="keyword cmdname">-fwd -C</span> with <span class="keyword cmdname">-c</span> to display forward slot
                limit configuration for the specified cluster.</p>
            </dd>
          
        </dl>
      </div>
    </section>
    <section class="section"><h2 class="title sectiontitle">hostpart command</h2>
      <p class="p">Displays information about host partitions. By default, hostpart displays information about all host partitions. Host partitions are used to configure host-partition fairshare scheduling.</p>
      <p class="p">ClusterView provides commands for running tasks on remote hosts and ports (LIM_PORT and
        RES_PORT) for communication. Therefore, even if your cluster restricts users from directly
        logging into or running commands on remote hosts (therefore restricting your users to using
        commands to access remote hosts), users can still run some commands to run tasks on remote
        systems under certain circumstances.</p>
      <p class="p">The <kbd class="ph userinput">hostpart -x</kbd> command where <kbd class="ph userinput">x</kbd> defines the
        host range can be directed to any cluster host. It will be propagated in order to return
        partition reports from the designated host range. </p></section>
        <section class="section"><h2 class="title sectiontitle">statclusters command</h2>
      
      <p class="p">This command runs locally (in the execution cluster) when submitted by a running job.</p>
      <p class="p"><code class="ph codeph">% <kbd class="ph userinput">statclusters</kbd></code></p>
      <p class="p">Sample command response:</p>
      <p class="p"><samp class="ph systemoutput sysout">CLUSTER_NAME STATUS MASTER_HOST ADMIN HOSTS SERVERS</samp></p>
      <p class="p"><samp class="ph systemoutput sysout">sub_cluster ok hostA admin 1 1</samp></p>
      <p class="p"><samp class="ph systemoutput sysout">cluster2 ok hostB admin 1 1</samp></p>
      <p class="p"><samp class="ph systemoutput sysout">cluster3 ok hostC admin 2 2</samp></p>
    </section>
  </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../topics/c_cluster_management.html" title="Using ClusterControl for cluster management to maximize job throughput.">Cluster management controls</a></div></div><div class="linklist relinfo"><strong>Related information</strong><br><div><a class="link" href="../topics/r_manage_clusters.html" title="Basic commands to manage the StormCluster hosts status.">Quick Reference: basic cluster management commands</a></div></div></nav></article></main></body></html>